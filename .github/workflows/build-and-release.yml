name: Build and Release

on:
  push:
    branches:
      - main
env:
  GOOS: linux
  GOARCH: amd64
  NEW_TAG: v1.0.0
  GITHUB_TOKEN: ${{ secrets.CI_TOKEN }}

jobs:
  release:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v2.4.2

    - name:  'Automated Version Bump'
      uses:  'phips28/gh-action-bump-version@master'
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      with:
        minor-wording:  'add,Adds,new'
        major-wording:  'MAJOR,cut-major'
        patch-wording:  'patch,fixes'     # Providing patch-wording will override commits
        rc-wording:     'RELEASE,alpha'
